<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki">
<meta name="theme-color" content="#008800">
<meta name="robots" content="index,follow">
<meta name="keywords" content="v5,userguide,portable_sql">
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.html" title="ADOdb">
<link rel="start" href="portable_sql.html">
<link rel="contents" href="portable_sql.html" title="Sitemap">
<link rel="manifest" href="../../lib/exe/manifest.html">
<link rel="alternate" type="application/rss+xml" title="Recent Changes">
<link rel="alternate" type="application/rss+xml" title="Current namespace">
<link rel="alternate" type="text/html" title="Plain HTML" href="portable_sql.html">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="portable_sql.html">
<link rel="canonical" href="https://adodb.org/dokuwiki/doku.php?id=v5:userguide:portable_sql">
<link rel="stylesheet" href="../../lib/exe/css.php.t.dokuwiki.css">
<!--[if gte IE 9]><!-->
<script>/*<![CDATA[*/var NS='v5:userguide';var JSINFO = {"plugins":{"edittable":{"default columnwidth":""}},"move_renameokay":false,"id":"v5:userguide:portable_sql","namespace":"v5:userguide","ACT":"show","useHeadingNavigation":1,"useHeadingContent":1};
/*!]]>*/</script>
<script src="../../lib/exe/jquery.php.t.dokuwiki.js" defer>/*<![CDATA[*/
/*!]]>*/</script>
<script src="../../lib/exe/js.php.t.dokuwiki.js" defer>/*<![CDATA[*/
/*!]]>*/</script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="shortcut icon" href="../../lib/tpl/dokuwiki/images/favicon.ico">
<link rel="apple-touch-icon" href="../../lib/tpl/dokuwiki/images/apple-touch-icon.png">
    <title>v5:userguide:portable_sql</title></head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki    showSidebar hasSidebar">

        
<!-- ********** HEADER ********** -->
<header id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1 class="logo"><a href="../..//index.html" accesskey="h" title="Home [h]"><img src="../../logo.png" width="176" height="62" alt=""> <span>ADOdb</span></a></h1>
                    <p class="claim">Database Abstraction Layer for PHP</p>
            </div>

    

    <!-- BREADCRUMBS -->
            
    
    <hr class="a11y">
<div style="text-align:right"><a href="https://adodb.org">ADOdb Web Site</a></div></div></header><!-- /header -->

        <div class="wrapper group">

                            <!-- ********** ASIDE ********** -->
                <nav id="dokuwiki__aside" aria-label="Sidebar"><div class="pad aside include group">
                    <h3 class="toggle">Sidebar</h3>
                    <div class="content"><div class="group">
                                                                        
<p>
<strong>Resources</strong>
</p>
<ul>
<li class="level1"><div class="li"> <a href="../../v5/reference/reference_index.html" class="wikilink1" title="v5:reference:reference_index" data-wiki-id="v5:reference:reference_index">Reference Manual</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/userguide/userguide_index.html" class="wikilink1" title="v5:userguide:userguide_index" data-wiki-id="v5:userguide:userguide_index">User Guide &amp; Tutorials</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/dictionary/dictionary_index.html" class="wikilink1" title="v5:dictionary:dictionary_index" data-wiki-id="v5:dictionary:dictionary_index">The Data Dictionary</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/axmls/axmls_index.html" class="wikilink1" title="v5:axmls:axmls_index" data-wiki-id="v5:axmls:axmls_index">ADOdb-xmlschema</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/activerecord/activerecord_index.html" class="wikilink1" title="v5:activerecord:activerecord_index" data-wiki-id="v5:activerecord:activerecord_index">ADOdb Active Record</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/performance/performance_index.html" class="wikilink1" title="v5:performance:performance_index" data-wiki-id="v5:performance:performance_index">Performance Monitoring</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/datetime/datetime_index.html" class="wikilink1" title="v5:datetime:datetime_index" data-wiki-id="v5:datetime:datetime_index">Date/Time Library</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/session/session_index.html" class="wikilink1" title="v5:session:session_index" data-wiki-id="v5:session:session_index">Session Management Library</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/proxy/proxy_index.html" class="wikilink1" title="v5:proxy:proxy_index" data-wiki-id="v5:proxy:proxy_index">ADOdb Proxy Server</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/addons/addons_index.html" class="wikilink1" title="v5:addons:addons_index" data-wiki-id="v5:addons:addons_index">Unsupported Addons</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../project/standards.html" class="wikilink1" title="project:standards" data-wiki-id="project:standards">Coding Standards</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/php_compatibility_status.html" class="wikilink1" title="v5:php_compatibility_status" data-wiki-id="v5:php_compatibility_status">PHP Compatibility Status</a></div>
</li>
</ul>

<p>
<strong><a href="../../v5/database/supported.html" class="wikilink1" title="v5:database:supported" data-wiki-id="v5:database:supported">Supported Databases</a></strong>
</p>
<ol>
<li class="level1"><div class="li"> Full support    <ul><li><a href="../../v5/database/ibm_db2.html" class="wikilink1" title="v5:database:ibm_db2">IBM DB2</a></li><li><a href="../../v5/database/microsoft_sql_server.html" class="wikilink1" title="v5:database:microsoft_sql_server">Microsoft SQL Server</a></li><li><a href="../../v5/database/mysql.html" class="wikilink1" title="v5:database:mysql">MySQL</a></li><li><a href="../../v5/database/oracle.html" class="wikilink1" title="v5:database:oracle">Oracle</a></li><li><a href="../../v5/database/postgresql.html" class="wikilink1" title="v5:database:postgresql">PostgreSQL</a></li><li><a href="../../v5/database/sqlite.html" class="wikilink1" title="v5:database:sqlite">SQLite Database</a></li></ul></div>
</li>
<li class="level1"><div class="li"> Partial support <ul><li><a href="../../v5/database/firebird.html" class="wikilink1" title="v5:database:firebird">Firebird &amp; Interbase</a></li><li><a href="../../v5/database/ldap.html" class="wikilink1" title="v5:database:ldap">LDAP</a></li><li><a href="../../v5/database/access.html" class="wikilink1" title="v5:database:access">Microsoft Access</a></li><li><a href="../../v5/database/odbc.html" class="wikilink1" title="v5:database:odbc">ODBC</a></li><li><a href="../../v5/database/pdo.html" class="wikilink1" title="v5:database:pdo">PDO</a></li><li><a href="../../v5/database/pdo_new.html" class="wikilink1" title="v5:database:pdo_new">PDO (new)</a></li></ul></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/database/unsupported.html" class="wikilink1" title="v5:database:unsupported" data-wiki-id="v5:database:unsupported">Obsolete/Unsupported Drivers</a></div>
</li>
</ol>
                                            </div></div>
                </div></nav><!-- /aside -->
            
            <!-- ********** CONTENT ********** -->
            <main id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>v5:userguide:portable_sql</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#introduction">Introduction</a></div></li>
<li class="level1"><div class="li"><a href="#select_statements">Select Statements</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#fetch_modes_within_select_statements">Fetch Modes Within Select Statements</a></div></li>
<li class="level2"><div class="li"><a href="#counting_records">Counting Records</a></div></li>
<li class="level2"><div class="li"><a href="#row_level_locking">Row Level Locking</a></div></li>
<li class="level2"><div class="li"><a href="#outer_joins">Outer Joins</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#inserting_records">Inserting Records</a></div></li>
<li class="level1"><div class="li"><a href="#binding">Binding</a></div></li>
<li class="level1"><div class="li"><a href="#prepareexecute">Prepare/Execute</a></div></li>
<li class="level1"><div class="li"><a href="#portable_native_sql">Portable Native SQL</a></div></li>
<li class="level1"><div class="li"><a href="#ddl_and_tuning">DDL and Tuning</a></div></li>
<li class="level1"><div class="li"><a href="#data_types">Data Types</a></div></li>
<li class="level1"><div class="li"><a href="#stored_procedures">Stored Procedures</a></div></li>
<li class="level1"><div class="li"><a href="#sql_as_a_localization_exercise">SQL as a Localization Exercise</a></div></li>
<li class="level1"><div class="li"><a href="#final_thoughts">Final Thoughts</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tips_on_writing_portable_sql_using_adodb">Tips on Writing Portable SQL Using ADOdb</h1>
<div class="level1">
<div class="wrap_right wrap_box wrap_round plugin_wrap">
<p>
Author Credit: John Lim
</p>
</div>
</div>

<h2 class="sectionedit4" id="introduction">Introduction</h2>
<div class="level2">

<p>
If you are writing an application that is used in multiple environments and operating systems, you need to plan to support multiple databases. This article is based on my experiences with multiple database systems, stretching from 4th Dimension in my Mac days, to the databases I currently use, which are: Oracle, FoxPro, Access, MS SQL Server and MySQL. Although most of the advice here applies to using SQL with Perl, Python and other programming languages, I will focus on PHP and how the ADOdb database abstraction library offers some solutions.
</p>

<p>
Most database vendors practice product lock-in. The best or fastest way to do things is often implemented using proprietary extensions to SQL. This makes it extremely hard to write portable SQL code that performs well under all conditions. When the first ANSI committee got together in 1984 to standardize SQL, the database vendors had such different implementations that they could only agree on the core functionality of SQL. Many important application specific requirements were not standardized, and after so many years since the ANSI effort began, it looks as if much useful database functionality will never be standardized. Even though ANSI-92 SQL has codified much more, we still have to implement portability at the application level.
</p>

</div>

<h2 class="sectionedit5" id="select_statements">Select Statements</h2>
<div class="level2">

<p>
The SELECT statement has been standardized to a great degree. Nearly every database supports the following:
</p>
<pre class="code">SELECT [cols] FROM [tables]
  [WHERE conditions]
  [GROUP BY cols]
  [HAVING conditions] 
  [ORDER BY cols]</pre>

<p>
But so many useful techniques can only be implemented by using proprietary extensions. For example, when writing SQL to retrieve the first 10 rows for paging, you could write&hellip;
</p>
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Database</th><th class="col1">SQL Syntax</th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0">DB2</th><td class="col1">select * from table fetch first 10 rows only</td>
	</tr>
	<tr class="row2">
		<th class="col0">Informix</th><td class="col1">select first 10 * from table</td>
	</tr>
	<tr class="row3">
		<th class="col0">Microsoft SQL Server and Access</th><td class="col1">select top 10 * from table</td>
	</tr>
	<tr class="row4">
		<th class="col0">MySQL and PostgreSQL</th><td class="col1">select * from table limit 10</td>
	</tr>
	<tr class="row5">
		<th class="col0">Oracle</th><td class="col1">select * from (select * from table) where rownum &lArr; 10</td>
	</tr>
</table></div>

<p>
This feature of getting a subset of data is so useful that in the PHP class library ADOdb, we have a <a href="../../v5/reference/connection/selectlimit.html" class="wikilink1" title="v5:reference:connection:selectlimit" data-wiki-id="v5:reference:connection:selectlimit">selectLimit()</a> function that allows you to hide the implementation details within a function that will rewrite your SQL for you:
</p>
<pre class="code php"><span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">selectLimit</span><span class="br0">(</span><span class="st_h">'select * from table'</span><span class="sy0">,</span> <span class="nu0">10</span><span class="br0">)</span><span class="sy0">;</span></pre>

</div>

<h3 class="sectionedit7" id="fetch_modes_within_select_statements">Fetch Modes Within Select Statements</h3>
<div class="level3">

<p>
PHP allows you to retrieve database records as arrays. You can choose to have the arrays indexed by field name or number. However different low-level PHP database drivers are inconsistent in their indexing efforts. ADOdb allows you to determine your prefered mode. You set this by setting the variable <a href="../../v5/reference/adodb_fetch_mode.html" class="wikilink1" title="v5:reference:adodb_fetch_mode" data-wiki-id="v5:reference:adodb_fetch_mode">$ADODB_FETCH_MODE</a> to either of the constants:
</p>
<ul>
<li class="level1"><div class="li"> ADODB_FETCH_NUM (for numeric indexes)</div>
</li>
<li class="level1"><div class="li"> ADODB_FETCH_ASSOC (using field names as an associative index).</div>
</li>
</ul>

<p>
The default behaviour of ADOdb varies depending on the database you are using. For consistency, set the fetch mode to either ADODB_FETCH_NUM (for speed) or ADODB_FETCH_ASSOC (for convenience) at the beginning of your code.
</p>

</div>

<h3 class="sectionedit8" id="counting_records">Counting Records</h3>
<div class="level3">

<p>
Another problem with SELECTs is that some databases do not return the number of rows retrieved from a select statement. This is because the highest performance databases will return records to you even before the last record has been found.
</p>

<p>
In ADOdb, <a href="../../v5/reference/connection/recordcount.html" class="wikilink1" title="v5:reference:connection:recordcount" data-wiki-id="v5:reference:connection:recordcount">recordCount()</a> returns the number of rows returned, or will emulate it by buffering the rows and returning the count after all rows have been returned. This can be disabled for performance reasons when retrieving large recordsets by setting the global variable <a href="../../v5/reference/adodb_countrecs.html" class="wikilink1" title="v5:reference:adodb_countrecs" data-wiki-id="v5:reference:adodb_countrecs">$ADODB_COUNTRECS</a> = false. This variable is checked every time a query is executed, so you can selectively choose which recordsets to count.
</p>

<p>
If you prefer to set <code>$ADODB_COUNTRECS</code> = false, ADOdb still has the <a href="../../v5/reference/connection/po_recordcount.html" class="wikilink1" title="v5:reference:connection:po_recordcount" data-wiki-id="v5:reference:connection:po_recordcount">po_recordCount()</a> function. This will return the number of rows, or if it is not found, it will return an estimate using <code>SELECT COUNT(*)</code>:
</p>
<pre class="code php"><span class="re0">$rs</span> <span class="sy0">=</span> <span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="st0">"select * from table where state=<span class="es4">$state</span>"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$numrows</span> <span class="sy0">=</span> <span class="re0">$rs</span><span class="sy0">-&gt;</span><span class="me1">po_recordCount</span><span class="br0">(</span><span class="st_h">'table'</span><span class="sy0">,</span> <span class="st0">"state=<span class="es4">$state</span>"</span><span class="br0">)</span><span class="sy0">;</span></pre>

</div>

<h3 class="sectionedit9" id="row_level_locking">Row Level Locking</h3>
<div class="level3">

<p>
SELECT statements are commonly used to implement row-level locking of tables. Other databases such as Oracle, Interbase, PostgreSQL and MySQL with InnoDB do not require row-level locking because they use versioning to display data consistent with a specific point in time.
</p>

<p>
Currently, I recommend encapsulating the row-level locking in a separate function, such as RowLock($table, $where):
</p>
<pre class="code php"><span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">beginTrans</span><span class="br0">(</span> <span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">rowLock</span><span class="br0">(</span><span class="re0">$table</span><span class="sy0">,</span> <span class="re0">$where</span><span class="br0">)</span><span class="sy0">;</span> 
<span class="co2"># some operation
</span><span class="kw1">if</span> <span class="br0">(</span><span class="re0">$ok</span><span class="br0">)</span> <span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">commitTrans</span><span class="br0">(</span> <span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">else</span> <span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">rollbackTrans</span><span class="br0">(</span> <span class="br0">)</span><span class="sy0">;</span></pre>

</div>

<h3 class="sectionedit10" id="outer_joins">Outer Joins</h3>
<div class="level3">

<p>
Not all databases support outer joins. Furthermore the syntax for outer joins differs dramatically between database vendors. One portable (and possibly slower) method of implementing outer joins is using <code>UNION</code>.
</p>

<p>
For example, an ANSI-92 left outer join between two tables t1 and t2 could look like:
</p>
<pre class="code sql"><span class="kw1">SELECT</span> t1<span class="sy0">.</span>col1<span class="sy0">,</span> t1<span class="sy0">.</span>col2<span class="sy0">,</span> t2<span class="sy0">.</span>cola 
  <span class="kw1">FROM</span> t1 <span class="kw1">LEFT</span> <span class="kw1">JOIN</span> t2 <span class="kw1">ON</span> t1<span class="sy0">.</span>col <span class="sy0">=</span> t2<span class="sy0">.</span>col</pre>

<p>
This can be emulated using:
</p>
<pre class="code sql"><span class="kw1">SELECT</span> t1<span class="sy0">.</span>col1<span class="sy0">,</span> t1<span class="sy0">.</span>col2<span class="sy0">,</span> t2<span class="sy0">.</span>cola 
     <span class="kw1">FROM</span> t1<span class="sy0">,</span> t2 
    <span class="kw1">WHERE</span> t1<span class="sy0">.</span>col <span class="sy0">=</span> t2<span class="sy0">.</span>col
<span class="kw1">UNION</span> <span class="kw1">ALL</span>
<span class="kw1">SELECT</span> col1<span class="sy0">,</span> col2<span class="sy0">,</span> <span class="kw1">NULL</span> 
  <span class="kw1">FROM</span> t1 
 <span class="kw1">WHERE</span> t1<span class="sy0">.</span>col <span class="kw1">NOT</span> <span class="kw1">IN</span> <span class="br0">(</span><span class="kw1">SELECT</span> <span class="kw1">DISTINCT</span> col <span class="kw1">FROM</span> t2<span class="br0">)</span></pre>

<p>
ADOdb provides some hints in the connection object as to legal join variations. This is still incomplete and sometimes depends on the database version you are using, but is useful as a general guideline:
</p>
<div class="table sectionedit11"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Variable</th><th class="col1">Description</th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0">$conn&rarr;leftOuter</th><td class="col1">The operator used for left outer joins (eg. '*='), or false if not known or not available.</td>
	</tr>
	<tr class="row2">
		<th class="col0">$conn&rarr;rightOuter</th><td class="col1">The operator used for right outer joins (eg '=*'), or false if not known or not available.</td>
	</tr>
	<tr class="row3">
		<th class="col0">$conn&rarr;ansiOuter</th><td class="col1">A boolean value, if true means that ANSI-92 style outer joins are supported, or false if not known.</td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit12" id="inserting_records">Inserting Records</h2>
<div class="level2">

<p>
When you create records, you need to generate unique id's for each record. There are two common techniques:
</p>
<ul>
<li class="level1"><div class="li"> Auto-increment columns</div>
</li>
<li class="level1"><div class="li"> Sequences</div>
</li>
</ul>

<p>
Auto-increment columns are not supported by some databases, so for portability, you have little choice but to use sequences. Sequences are special functions that return a unique incrementing number every time you call it, suitable to be used as database keys. In ADOdb, we use the <a href="../../v5/reference/connection/genid.html" class="wikilink1" title="v5:reference:connection:genid" data-wiki-id="v5:reference:connection:genid">genId()</a> function. It has takes a parameter, the sequence name. 
</p>

<p>
Different tables can have different sequences.
</p>
<pre class="code php"><span class="re0">$id</span> <span class="sy0">=</span> <span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">genID</span><span class="br0">(</span><span class="st_h">'sequence_name'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="st0">"insert into table (id, firstname, lastname) 
			         values (<span class="es4">$id</span>, <span class="es4">$firstname</span>, <span class="es4">$lastname</span>)"</span><span class="br0">)</span><span class="sy0">;</span></pre>

<p>
For databases that do not provide native support for sequence, ADOdb provides emulation by creating a table for every sequence.
</p>

</div>

<h2 class="sectionedit13" id="binding">Binding</h2>
<div class="level2">

<p>
Binding variables in an SQL statement is another tricky feature. Binding is useful because it allows pre-compilation of SQL. When inserting multiple records into a database in a loop, binding can offer a 50% (or greater) speedup. However many databases such as Access and MySQL do not support binding natively and there is some overhead in emulating binding. Furthermore, different databases (specifically Oracle!) implement binding differently. My recommendation is to use binding if your database queries are too slow, but make sure you are using a database that supports it like Oracle.
</p>

</div>

<h2 class="sectionedit14" id="prepareexecute">Prepare/Execute</h2>
<div class="level2">
<pre class="code php"><span class="re0">$stmt</span> <span class="sy0">=</span> <span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">prepare</span><span class="br0">(</span><span class="st_h">'select * from customers where custid=? and state=?'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$rs</span> <span class="sy0">=</span> <span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="re0">$stmt</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="re0">$id</span><span class="sy0">,</span><span class="st_h">'New York'</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="coMULTI">/*
Oracle uses named bind placeholders, not "?", so to support portable binding, we have Param() that generates the correct placeholder
*/</span>
&nbsp;
<span class="re0">$sql</span> <span class="sy0">=</span> <span class="st_h">'insert into table (col1,col2) values ('</span><span class="sy0">.</span><span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">param</span><span class="br0">(</span><span class="st_h">'a'</span><span class="br0">)</span><span class="sy0">.</span><span class="st_h">','</span><span class="sy0">.</span><span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">param</span><span class="br0">(</span><span class="st_h">'b'</span><span class="br0">)</span><span class="sy0">.</span><span class="st_h">')'</span><span class="sy0">;</span>
<span class="co2"># generates 'insert into table (col1,col2) values (?,?)'
</span><span class="co2"># or        'insert into table (col1,col2) values (:a,:b)'
</span><span class="re0">$stmt</span> <span class="sy0">=</span> <span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">prepare</span><span class="br0">(</span><span class="re0">$sql</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$stmt</span> <span class="sy0">=</span> <span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="re0">$stmt</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'one'</span><span class="sy0">,</span><span class="st_h">'two'</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span></pre>

</div>

<h2 class="sectionedit15" id="portable_native_sql">Portable Native SQL</h2>
<div class="level2">

<p>
ADOdb provides the following functions for portably generating SQL functions as strings to be merged into your SQL statements.
</p>
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Function</th><th class="col1">Description</th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0">DBDate($date)</th><td class="col1">Pass in a UNIX timestamp or ISO date and it will convert it to a date string formatted for INSERT/UPDATE</td>
	</tr>
	<tr class="row2">
		<th class="col0">DBTimeStamp($date)</th><td class="col1">Pass in a UNIX timestamp or ISO date and it will convert it to a timestamp string formatted for INSERT/UPDATE</td>
	</tr>
	<tr class="row3">
		<th class="col0">SQLDate($date, $fmt)</th><td class="col1">Portably generate a date formatted using $fmt mask, for use in SELECT statements.</td>
	</tr>
	<tr class="row4">
		<th class="col0">OffsetDate($date, $ndays)</th><td class="col1">Portably generate a $date offset by $ndays.</td>
	</tr>
	<tr class="row5">
		<th class="col0">Concat($s1, $s2, &hellip;)</th><td class="col1">Portably concatenate strings. Alternatively, for mssql use mssqlpo driver, which allows <code>||</code> operator.</td>
	</tr>
	<tr class="row6">
		<th class="col0">IfNull($fld, $replaceNull)</th><td class="col1">Returns a string that is the equivalent of MySQL IFNULL or Oracle NVL.</td>
	</tr>
	<tr class="row7">
		<th class="col0">Param($name)</th><td class="col1">Generates bind placeholders, using ? or named conventions as appropriate.</td>
	</tr>
	<tr class="row8">
		<th class="col0">$db&rarr;sysDate</th><td class="col1">Property that holds the SQL function that returns today's date</td>
	</tr>
	<tr class="row9">
		<th class="col0">$db&rarr;sysTimeStamp</th><td class="col1">Property that holds the SQL function that returns the current timestamp (date+time).</td>
	</tr>
	<tr class="row10">
		<th class="col0">$db&rarr;concat_operator</th><td class="col1">Property that holds the concatenation operator</td>
	</tr>
	<tr class="row11">
		<th class="col0">$db&rarr;length</th><td class="col1">Property that holds the name of the SQL strlen function.</td>
	</tr>
	<tr class="row12">
		<th class="col0">$db&rarr;upperCase</th><td class="col1">Property that holds the name of the SQL strtoupper function.</td>
	</tr>
	<tr class="row13">
		<th class="col0">$db&rarr;random</th><td class="col1">Property that holds the SQL to generate a random number between 0.00 and 1.00.</td>
	</tr>
	<tr class="row14">
		<th class="col0">$db&rarr;substr</th><td class="col1">Property that holds the name of the SQL substring function.</td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit17" id="ddl_and_tuning">DDL and Tuning</h2>
<div class="level2">

<p>
There are database design tools such as ERWin or Dezign that allow you to generate data definition language commands such as <code>ALTER TABLE</code> or <code>CREATE INDEX</code> from Entity-Relationship diagrams.
However if you prefer to use a PHP-based table creation scheme, ADOdb provides you with this feature. Here is the code to generate the SQL to create a table with:
</p>
<pre class="code">Auto-increment primary key 'ID',
The person's 'NAME' VARCHAR(32) NOT NULL and defaults to '',
The date and time of record creation 'CREATED',
The person's 'AGE', defaulting to 0, type NUMERIC(16).
Also create a compound index consisting of 'NAME' and 'AGE':</pre>
<pre class="code php"><span class="re0">$datadict</span> <span class="sy0">=</span> NewDataDictionary<span class="br0">(</span><span class="re0">$connection</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$flds</span> <span class="sy0">=</span> <span class="st0">"
  ID I AUTOINCREMENT PRIMARY,
  NAME C(32) DEFAULT '' NOTNULL,
  CREATED T DEFTIMESTAMP,
  AGE N(16) DEFAULT 0
"</span><span class="sy0">;</span>
<span class="re0">$sql1</span> <span class="sy0">=</span> <span class="re0">$datadict</span><span class="sy0">-&gt;</span><span class="me1">createTableSQL</span><span class="br0">(</span><span class="st_h">'tabname'</span><span class="sy0">,</span> <span class="re0">$flds</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$sql2</span> <span class="sy0">=</span> <span class="re0">$datadict</span><span class="sy0">-&gt;</span><span class="me1">createIndexSQL</span><span class="br0">(</span><span class="st_h">'idx_name_age'</span><span class="sy0">,</span> <span class="st_h">'tabname'</span><span class="sy0">,</span> <span class="st_h">'NAME,AGE'</span><span class="br0">)</span><span class="sy0">;</span></pre>

</div>

<h2 class="sectionedit18" id="data_types">Data Types</h2>
<div class="level2">

<p>
Stick to a few data types that are available in most databases. Char, varchar and numeric/number are supported by most databases. Most other data types (including integer, boolean and float) cannot be relied on being available. I recommend using char(1) or number(1) to hold booleans.
</p>

<p>
Different databases have different ways of representing dates and timestamps/datetime. ADOdb attempts to display all dates in ISO (YYYY-MM-DD) format. ADOdb also provides DBDate( ) and DBTimeStamp( ) to convert dates to formats that are acceptable to that database. Both functions accept Unix integer timestamps and date strings in ISO format.
</p>
<pre class="code php"><span class="re0">$date1</span> <span class="sy0">=</span> <span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">dbDate</span><span class="br0">(</span><a target="_blank" href="http://www.php.net/time"><span class="kw3">time</span></a><span class="br0">(</span> <span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$date2</span> <span class="sy0">=</span> <span class="re0">$connection</span><span class="sy0">-&gt;</span><span class="me1">dbTimeStamp</span><span class="br0">(</span><span class="st_h">'2002-02-23 13:03:33'</span><span class="br0">)</span><span class="sy0">;</span></pre>

<p>
We also provide functions to convert database dates to Unix timestamps:
</p>
<pre class="code php"><span class="re0">$unixts</span> <span class="sy0">=</span> <span class="re0">$recordset</span><span class="sy0">-&gt;</span><span class="me1">unixDate</span><span class="br0">(</span><span class="st_h">'#2002-02-30#'</span><span class="br0">)</span><span class="sy0">;</span> <span class="co2"># MS Access date =gt; unix timestamp</span></pre>

<p>
For date calculations, we have <a href="../../v5/reference/connection/offsetdate.html" class="wikilink1" title="v5:reference:connection:offsetdate" data-wiki-id="v5:reference:connection:offsetdate">offsetDate()</a> which allows you to calculate dates such as yesterday and next week in a RDBMS independant fashion. For example, if we want to set a field to 6 hour from now, use:
</p>
<pre class="code php"><span class="re0">$sql</span> <span class="sy0">=</span> <span class="st_h">'update table set dtimefld='</span><span class="sy0">.</span><span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">offsetDate</span><span class="br0">(</span><span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">sysTimeStamp</span><span class="sy0">,</span> <span class="nu0">6</span><span class="sy0">/</span><span class="nu0">24</span><span class="br0">)</span><span class="sy0">.</span><span class="st_h">' where ...'</span><span class="sy0">;</span></pre>

<p>
The maximum length of a char/varchar field is also database specific. You can only assume that field lengths of up to 250 characters are supported. This is normally impractical for web based forum or content management systems. You will need to be familiar with how databases handle large objects (LOBs). ADOdb implements two functions, <a href="../../v5/reference/connection/updateblob.html" class="wikilink1" title="v5:reference:connection:updateblob" data-wiki-id="v5:reference:connection:updateblob">updateBlob()</a> and <a href="../../v5/reference/connection/updateclob.html" class="wikilink1" title="v5:reference:connection:updateclob" data-wiki-id="v5:reference:connection:updateclob">updateClob()</a> that allow you to update fields holding Binary Large Objects (eg. pictures) and Character Large Objects (eg. <abbr title="HyperText Markup Language">HTML</abbr> articles):
</p>
<pre class="code php"><span class="co2"># for oracle 
</span><span class="re0">$conn</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="st_h">'INSERT INTO blobtable (id, blobcol) VALUES (1,empty_blob())'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$conn</span><span class="sy0">-&gt;</span><span class="me1">updateBlob</span><span class="br0">(</span><span class="st_h">'blobtable'</span><span class="sy0">,</span><span class="st_h">'blobcol'</span><span class="sy0">,</span><span class="re0">$blobvalue</span><span class="sy0">,</span><span class="st_h">'id=1'</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co2"># non-oracle databases
</span><span class="re0">$conn</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="st_h">'INSERT INTO blobtable (id, blobcol) VALUES (1, null)'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$conn</span><span class="sy0">-&gt;</span><span class="me1">updateBlob</span><span class="br0">(</span><span class="st_h">'blobtable'</span><span class="sy0">,</span><span class="st_h">'blobcol'</span><span class="sy0">,</span><span class="re0">$blobvalue</span><span class="sy0">,</span><span class="st_h">'id=1'</span><span class="br0">)</span><span class="sy0">;</span></pre>

<p>
Null handling is another area where differences can occur. This is a mine-field, because 3-value logic is tricky.
</p>

<p>
In general, I avoid using nulls except for dates and default all my numeric and character fields to 0 or the empty string. This maintains consistency with PHP, where empty strings and zero are treated as equivalent, and avoids SQL ambiguities when you use the ANY and EXISTS operators. However if your database has significant amounts of missing or unknown data, using nulls might be a good idea.
</p>

<p>
ADOdb also supports a portable <a href="../../v5/reference/connection/ifnull.html" class="wikilink1" title="v5:reference:connection:ifnull" data-wiki-id="v5:reference:connection:ifnull">ifNull()</a> function, so you can define what to display if the field contains a null.
</p>

</div>

<h2 class="sectionedit19" id="stored_procedures">Stored Procedures</h2>
<div class="level2">

<p>
Stored procedures are another problem area. Some databases allow recordsets to be returned in a stored procedure (Microsoft SQL Server and Sybase), and others only allow output parameters to be returned. Stored procedures sometimes need to be wrapped in special syntax. For example, Oracle requires such code to be wrapped in an anonymous block with BEGIN and END. Also internal sql operators and functions such as +, ||, TRIM( ), SUBSTR( ) or INSTR( ) vary between vendors.
</p>

<p>
An example of how to call a stored procedure with 2 parameters and 1 return value follows:
</p>
<pre class="code php"><span class="kw1">switch</span> <span class="br0">(</span><span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">databaseType</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="kw1">case</span> <span class="st_h">'mssql'</span><span class="sy0">:</span>
    <span class="re0">$sql</span> <span class="sy0">=</span> <span class="st_h">'SP_RUNSOMETHING'</span><span class="sy0">;</span> 
    <span class="kw1">break</span><span class="sy0">;</span>
<span class="kw1">case</span> <span class="st_h">'oci8'</span><span class="sy0">:</span>
    <span class="re0">$sql</span> <span class="sy0">=</span> <span class="st0">"declare RETVAL integer;begin :RETVAL := SP_RUNSOMETHING(:myid,:group);end;"</span><span class="sy0">;</span>
    <span class="kw1">break</span><span class="sy0">;</span>
<span class="kw1">default</span><span class="sy0">:</span>
  <a target="_blank" href="http://www.php.net/die"><span class="kw3">die</span></a><span class="br0">(</span><span class="st_h">'Unsupported feature'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span>
<span class="co2"># @RETVAL = SP_RUNSOMETHING @myid,@group
</span><span class="re0">$stmt</span> <span class="sy0">=</span> <span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">prepareSP</span><span class="br0">(</span><span class="re0">$sql</span><span class="br0">)</span><span class="sy0">;</span>	
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">inParameter</span><span class="br0">(</span><span class="re0">$stmt</span><span class="sy0">,</span><span class="re0">$id</span><span class="sy0">,</span><span class="st_h">'myid'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">parameter</span><span class="br0">(</span><span class="re0">$stmt</span><span class="sy0">,</span><span class="re0">$group</span><span class="sy0">,</span><span class="st_h">'group'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co2"># true indicates output parameter
</span><span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">parameter</span><span class="br0">(</span><span class="re0">$stmt</span><span class="sy0">,</span><span class="re0">$ret</span><span class="sy0">,</span><span class="st_h">'RETVAL'</span><span class="sy0">,</span><span class="kw4">true</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="re0">$stmt</span><span class="br0">)</span><span class="sy0">;</span> </pre>

<p>
As you can see, the ADOdb <abbr title="Application Programming Interface">API</abbr> is the same for both databases. But the stored procedure SQL syntax is quite different between databases and is not portable, so be forewarned! However sometimes you have little choice as some systems only allow data to be accessed via stored procedures. This is when the ultimate portability solution might be the only solution: treating portable SQL as a localization exercise&hellip;
</p>

</div>

<h2 class="sectionedit20" id="sql_as_a_localization_exercise">SQL as a Localization Exercise</h2>
<div class="level2">

<p>
In general to provide real portability, you will have to treat SQL coding as a localization exercise. In PHP, it has become common to define separate language files for English, Russian, Korean, etc. Similarly, I would suggest you have separate Sybase, Intebase, MySQL, etc files, and conditionally include the SQL based on the database. For example, each MySQL SQL statement would be stored in a separate variable, in a file called 'mysql-lang.inc.php'.
</p>
<pre class="code php"><span class="re0">$sqlGetPassword</span> <span class="sy0">=</span> <span class="st_h">'select password from users where userid=%s'</span><span class="sy0">;</span>
<span class="re0">$sqlSearchKeyword</span> <span class="sy0">=</span> <span class="st0">"SELECT * FROM articles WHERE match (title,body) against (<span class="es6">%s</span>)"</span><span class="sy0">;</span></pre>

<p>
In our main PHP file:
</p>
<pre class="code php"><span class="co2"># define which database to load...
</span><span class="re0">$database</span> <span class="sy0">=</span> <span class="st_h">'mysql'</span><span class="sy0">;</span>
<span class="kw1">include_once</span><span class="br0">(</span><span class="st0">"<span class="es4">$database</span>-lang.inc.php"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$db</span> <span class="sy0">=</span> newADOConnection<span class="br0">(</span><span class="re0">$database</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">pConnect</span><span class="br0">(</span><span class="sy0">...</span><span class="br0">)</span> or <a target="_blank" href="http://www.php.net/die"><span class="kw3">die</span></a><span class="br0">(</span><span class="st_h">'Failed to connect to database'</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co2"># search for a keyword $word
</span><span class="re0">$rs</span> <span class="sy0">=</span> <span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><a target="_blank" href="http://www.php.net/sprintf"><span class="kw3">sprintf</span></a><span class="br0">(</span><span class="re0">$sqlSearchKeyWord</span><span class="sy0">,</span><span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">qstr</span><span class="br0">(</span><span class="re0">$word</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span></pre>

<p>
Note that we quote the $word variable using the  <a href="../../v5/reference/connection/qstr.html" class="wikilink1" title="v5:reference:connection:qstr" data-wiki-id="v5:reference:connection:qstr">qStr()</a> function. This is because each database quotes strings using different conventions.
</p>

</div>

<h2 class="sectionedit21" id="final_thoughts">Final Thoughts</h2>
<div class="level2">

<p>
The best way to ensure that you have portable SQL is to have your data tables designed using sound principles. Learn the theory of normalization and entity-relationship diagrams and model your data carefully. Understand how joins and indexes work and how they are used to tune performance.
</p>

<p>
&copy; 2002-2014 John Lim.
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>v5/userguide/portable_sql.txt</bdi> &middot; Last modified: 2020/12/30 21:32 by <bdi>peterdd</bdi></div>

                
                <hr class="a11y">
            </div></main><!-- /content -->

            <!-- PAGE ACTIONS -->
            <nav id="dokuwiki__pagetools" aria-labelledby="dokuwiki__pagetools__heading">
                <h3 class="a11y" id="dokuwiki__pagetools__heading">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li class="source"><a href="portable_sql.html" title="Show pagesource [v]" rel="nofollow" accesskey="v"><span>Show pagesource</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74 1.42-1.41-2.33-2.33 2.33-2.33-1.42-1.41-3.74 3.74m11.16 0l-3.74-3.74-1.42 1.41 2.33 2.33-2.33 2.33 1.42 1.41 3.74-3.74z"></path></svg></a></li><li class="revs"><a href="portable_sql.html" title="Old revisions [o]" rel="nofollow" accesskey="o"><span>Old revisions</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M11 7v5.11l4.71 2.79.79-1.28-4-2.37V7m0-5C8.97 2 5.91 3.92 4.27 6.77L2 4.5V11h6.5L5.75 8.25C6.96 5.73 9.5 4 12.5 4a7.5 7.5 0 0 1 7.5 7.5 7.5 7.5 0 0 1-7.5 7.5c-3.27 0-6.03-2.09-7.06-5h-2.1c1.1 4.03 4.77 7 9.16 7 5.24 0 9.5-4.25 9.5-9.5A9.5 9.5 0 0 0 12.5 2z"></path></svg></a></li><li class="backlink"><a href="portable_sql.html" title="Backlinks" rel="nofollow"><span>Backlinks</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24.973.973 0 0 1 0-1.42z"></path></svg></a></li><li class="siteexport_addpage"><a href="portable_sql.html" title="Export Page to HTML/PDF" rel="nofollow"><span>Export Page to HTML/PDF</span><svg width="61px" height="51px" viewbox="0 0 61 51" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M26.1891503,39.0065635 L26.0876578,38.9773206 L60.6523866,1.23972885 L60.4321374,2.11844376 L60.476442,2.07071678 L60.4265202,2.14085429 L49.5024876,45.7237994 L32.8255882,40.9187101 L26,50.508302 L26,39.2103249 L26.1891503,39.0065635 Z M60.9727675,0.862917243 L22.2676619,38.2155059 L-0.00245042233,30.2214566 L60.9727675,0.862917243 Z" id="Paper-Plane"></path></svg></a></li><li class="top"><a href="#dokuwiki__top" title="Back to top [t]" rel="nofollow" accesskey="t"><span>Back to top</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg></a></li>                    </ul>
                </div>
            </nav>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<footer id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" rel="license" class="urlextern" target="_blank">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" rel="license" target="_blank"><img src="../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International"></a>        <a href="https://www.dokuwiki.org/donate" title="Donate" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate"></a>
        <a href="https://php.net" title="Powered by PHP" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP"></a>
        <a href="../../check/referer" title="Valid HTML5" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5"></a>
        <a href="../../css-validator/check/referer.profile.css3?profile=css3" title="Valid CSS" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS"></a>
        <a href="https://dokuwiki.org/" title="Driven by DokuWiki" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki"></a>
    </div>

    </div></footer><!-- /footer -->
    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/taskrunner.1688205703.gif?1688205703" width="2" height="1" alt=""></div>
    <div id="screen__mode" class="no"></div></body>
</html>
