<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki">
<meta name="theme-color" content="#008800">
<meta name="robots" content="index,follow">
<meta name="keywords" content="v5,activerecord,extended_active_record_tutorial">
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.html" title="ADOdb">
<link rel="start" href="extended_active_record_tutorial.html">
<link rel="contents" href="extended_active_record_tutorial.html" title="Sitemap">
<link rel="manifest" href="../../lib/exe/manifest.html">
<link rel="alternate" type="application/rss+xml" title="Recent Changes">
<link rel="alternate" type="application/rss+xml" title="Current namespace">
<link rel="alternate" type="text/html" title="Plain HTML" href="extended_active_record_tutorial.html">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="extended_active_record_tutorial.html">
<link rel="canonical" href="https://adodb.org/dokuwiki/doku.php?id=v5:activerecord:extended_active_record_tutorial">
<link rel="stylesheet" href="../../lib/exe/css.php.t.dokuwiki.css">
<!--[if gte IE 9]><!-->
<script>/*<![CDATA[*/var NS='v5:activerecord';var JSINFO = {"plugins":{"edittable":{"default columnwidth":""}},"move_renameokay":false,"id":"v5:activerecord:extended_active_record_tutorial","namespace":"v5:activerecord","ACT":"show","useHeadingNavigation":1,"useHeadingContent":1};
/*!]]>*/</script>
<script src="../../lib/exe/jquery.php.t.dokuwiki.js" defer>/*<![CDATA[*/
/*!]]>*/</script>
<script src="../../lib/exe/js.php.t.dokuwiki.js" defer>/*<![CDATA[*/
/*!]]>*/</script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="shortcut icon" href="../../lib/tpl/dokuwiki/images/favicon.ico">
<link rel="apple-touch-icon" href="../../lib/tpl/dokuwiki/images/apple-touch-icon.png">
    <title>v5:activerecord:extended_active_record_tutorial</title></head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki    showSidebar hasSidebar">

        
<!-- ********** HEADER ********** -->
<header id="dokuwiki__header"><div class="pad group">

    
    <div class="headings group">
        <ul class="a11y skip">
            <li><a href="#dokuwiki__content">skip to content</a></li>
        </ul>

        <h1 class="logo"><a href="../..//index.html" accesskey="h" title="Home [h]"><img src="../../logo.png" width="176" height="62" alt=""> <span>ADOdb</span></a></h1>
                    <p class="claim">Database Abstraction Layer for PHP</p>
            </div>

    

    <!-- BREADCRUMBS -->
            
    
    <hr class="a11y">
<div style="text-align:right"><a href="https://adodb.org">ADOdb Web Site</a></div></div></header><!-- /header -->

        <div class="wrapper group">

                            <!-- ********** ASIDE ********** -->
                <nav id="dokuwiki__aside" aria-label="Sidebar"><div class="pad aside include group">
                    <h3 class="toggle">Sidebar</h3>
                    <div class="content"><div class="group">
                                                                        
<p>
<strong>Resources</strong>
</p>
<ul>
<li class="level1"><div class="li"> <a href="../../v5/reference/reference_index.html" class="wikilink1" title="v5:reference:reference_index" data-wiki-id="v5:reference:reference_index">Reference Manual</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/userguide/userguide_index.html" class="wikilink1" title="v5:userguide:userguide_index" data-wiki-id="v5:userguide:userguide_index">User Guide &amp; Tutorials</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/dictionary/dictionary_index.html" class="wikilink1" title="v5:dictionary:dictionary_index" data-wiki-id="v5:dictionary:dictionary_index">The Data Dictionary</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/axmls/axmls_index.html" class="wikilink1" title="v5:axmls:axmls_index" data-wiki-id="v5:axmls:axmls_index">ADOdb-xmlschema</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/activerecord/activerecord_index.html" class="wikilink1" title="v5:activerecord:activerecord_index" data-wiki-id="v5:activerecord:activerecord_index">ADOdb Active Record</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/performance/performance_index.html" class="wikilink1" title="v5:performance:performance_index" data-wiki-id="v5:performance:performance_index">Performance Monitoring</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/datetime/datetime_index.html" class="wikilink1" title="v5:datetime:datetime_index" data-wiki-id="v5:datetime:datetime_index">Date/Time Library</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/session/session_index.html" class="wikilink1" title="v5:session:session_index" data-wiki-id="v5:session:session_index">Session Management Library</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/proxy/proxy_index.html" class="wikilink1" title="v5:proxy:proxy_index" data-wiki-id="v5:proxy:proxy_index">ADOdb Proxy Server</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/addons/addons_index.html" class="wikilink1" title="v5:addons:addons_index" data-wiki-id="v5:addons:addons_index">Unsupported Addons</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../project/standards.html" class="wikilink1" title="project:standards" data-wiki-id="project:standards">Coding Standards</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/php_compatibility_status.html" class="wikilink1" title="v5:php_compatibility_status" data-wiki-id="v5:php_compatibility_status">PHP Compatibility Status</a></div>
</li>
</ul>

<p>
<strong><a href="../../v5/database/supported.html" class="wikilink1" title="v5:database:supported" data-wiki-id="v5:database:supported">Supported Databases</a></strong>
</p>
<ol>
<li class="level1"><div class="li"> Full support    <ul><li><a href="../../v5/database/ibm_db2.html" class="wikilink1" title="v5:database:ibm_db2">IBM DB2</a></li><li><a href="../../v5/database/microsoft_sql_server.html" class="wikilink1" title="v5:database:microsoft_sql_server">Microsoft SQL Server</a></li><li><a href="../../v5/database/mysql.html" class="wikilink1" title="v5:database:mysql">MySQL</a></li><li><a href="../../v5/database/oracle.html" class="wikilink1" title="v5:database:oracle">Oracle</a></li><li><a href="../../v5/database/postgresql.html" class="wikilink1" title="v5:database:postgresql">PostgreSQL</a></li><li><a href="../../v5/database/sqlite.html" class="wikilink1" title="v5:database:sqlite">SQLite Database</a></li></ul></div>
</li>
<li class="level1"><div class="li"> Partial support <ul><li><a href="../../v5/database/firebird.html" class="wikilink1" title="v5:database:firebird">Firebird &amp; Interbase</a></li><li><a href="../../v5/database/ldap.html" class="wikilink1" title="v5:database:ldap">LDAP</a></li><li><a href="../../v5/database/access.html" class="wikilink1" title="v5:database:access">Microsoft Access</a></li><li><a href="../../v5/database/odbc.html" class="wikilink1" title="v5:database:odbc">ODBC</a></li><li><a href="../../v5/database/pdo.html" class="wikilink1" title="v5:database:pdo">PDO</a></li><li><a href="../../v5/database/pdo_new.html" class="wikilink1" title="v5:database:pdo_new">PDO (new)</a></li></ul></div>
</li>
<li class="level1"><div class="li"> <a href="../../v5/database/unsupported.html" class="wikilink1" title="v5:database:unsupported" data-wiki-id="v5:database:unsupported">Obsolete/Unsupported Drivers</a></div>
</li>
</ol>
                                            </div></div>
                </div></nav><!-- /aside -->
            
            <!-- ********** CONTENT ********** -->
            <main id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>v5:activerecord:extended_active_record_tutorial</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    
<h2 class="sectionedit1" id="active_record_extended">Active Record eXtended</h2>
<div class="level2">

<p>
This is the original one-to-many Active Record implementation submitted by Chris Ravenscroft (chris#voilaweb.com). The reason why we are offering both versions is that the Extended version is more powerful but more complex. My personal preference is to keep it simpler, but your view may vary.
</p>

<p>
To use, just include adodb-active-recordx.inc.php instead of adodb-active-record.inc.php.
</p>

<p>
It provides a new function called Find() that is quite intuitive to use as shown in the example below. It also supports loading all relationships using a single query (using joins).
</p>
<pre class="code php"><span class="kw2">function</span> ar_assert<span class="br0">(</span><span class="re0">$obj</span><span class="sy0">,</span> <span class="re0">$cond</span><span class="br0">)</span>
<span class="br0">{</span>
     <span class="kw2">global</span> <span class="re0">$err_count</span><span class="sy0">;</span>
     <span class="re0">$res</span> <span class="sy0">=</span> <a target="_blank" href="http://www.php.net/var_export"><span class="kw3">var_export</span></a><span class="br0">(</span><span class="re0">$obj</span><span class="sy0">,</span> <span class="kw4">true</span><span class="br0">)</span><span class="sy0">;</span>
     <span class="kw1">return</span> <span class="br0">(</span><a target="_blank" href="http://www.php.net/strpos"><span class="kw3">strpos</span></a><span class="br0">(</span><span class="re0">$res</span><span class="sy0">,</span> <span class="re0">$cond</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span>
&nbsp;
<span class="kw1">include_once</span><span class="br0">(</span><span class="st_h">'../adodb.inc.php'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">include_once</span><span class="br0">(</span><span class="st_h">'../adodb-active-recordx.inc.php'</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
&nbsp;
<span class="re0">$db</span> <span class="sy0">=</span> NewADOConnection<span class="br0">(</span><span class="st_h">'mysql://root@localhost/northwind'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">debug</span><span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span>
ADOdb_Active_Record<span class="sy0">::</span><span class="me2">SetDatabaseAdapter</span><span class="br0">(</span><span class="re0">$db</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"&lt;pre&gt;<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"Preparing database using SQL queries (creating 'people', 'children')<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">Execute</span><span class="br0">(</span><span class="st0">"DROP TABLE `people`"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">Execute</span><span class="br0">(</span><span class="st0">"DROP TABLE `children`"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">Execute</span><span class="br0">(</span><span class="st0">"CREATE TABLE `people` (
                `id` int(10) unsigned NOT NULL auto_increment,
                `name_first` varchar(100) NOT NULL default '',
                `name_last` varchar(100) NOT NULL default '',
                `favorite_color` varchar(100) NOT NULL default '',
                PRIMARY KEY  (`id`)
            ) ENGINE=MyISAM;
           "</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">Execute</span><span class="br0">(</span><span class="st0">"CREATE TABLE `children` (
                `id` int(10) unsigned NOT NULL auto_increment,
				`person_id` int(10) unsigned NOT NULL,
                `name_first` varchar(100) NOT NULL default '',
                `name_last` varchar(100) NOT NULL default '',
                `favorite_pet` varchar(100) NOT NULL default '',
                PRIMARY KEY  (`id`)
            ) ENGINE=MyISAM;
           "</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">Execute</span><span class="br0">(</span><span class="st0">"insert into children (person_id,name_first,name_last,favorite_pet) values (1,'Jill','Lim','tortoise')"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">Execute</span><span class="br0">(</span><span class="st0">"insert into children (person_id,name_first,name_last) values (1,'Joan','Lim')"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$db</span><span class="sy0">-&gt;</span><span class="me1">Execute</span><span class="br0">(</span><span class="st0">"insert into children (person_id,name_first,name_last) values (1,'JAMIE','Lim')"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// This class _implicitely_ relies on the 'people' table (pluralized form of 'person')</span>
<span class="kw2">class</span> Person <span class="kw2">extends</span> ADOdb_Active_Record
<span class="br0">{</span>
    <span class="kw2">function</span> __construct<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
	parent<span class="sy0">::</span>__construct<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
	<span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">hasMany</span><span class="br0">(</span><span class="st_h">'children'</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
<span class="co1">// This class _implicitely_ relies on the 'children' table</span>
<span class="kw2">class</span> Child <span class="kw2">extends</span> ADOdb_Active_Record
<span class="br0">{</span>
    <span class="kw2">function</span> __construct<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
	parent<span class="sy0">::</span>__construct<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
	<span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">belongsTo</span><span class="br0">(</span><span class="st_h">'person'</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
&nbsp;
<span class="co1">// This class _explicitely_ relies on the 'children' table and shares its metadata with Child</span>
<span class="kw2">class</span> Kid <span class="kw2">extends</span> ADOdb_Active_Record
<span class="br0">{</span>
    <span class="kw2">function</span> __construct<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
	parent<span class="sy0">::</span>__construct<span class="br0">(</span><span class="st_h">'children'</span><span class="br0">)</span><span class="sy0">;</span>
	<span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">belongsTo</span><span class="br0">(</span><span class="st_h">'person'</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
&nbsp;
<span class="co1">// This class _explicitely_ relies on the 'children' table but does not share its metadata</span>
<span class="kw2">class</span> Rugrat <span class="kw2">extends</span> ADOdb_Active_Record
<span class="br0">{</span>
    <span class="kw2">function</span> __construct<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
	parent<span class="sy0">::</span>__construct<span class="br0">(</span><span class="st_h">'children'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'new'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"Inserting person in 'people' table ('John Lim, he likes lavender')<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$person</span> <span class="sy0">=</span> <span class="kw2">new</span> Person<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$person</span><span class="sy0">-&gt;</span><span class="me1">name_first</span>     <span class="sy0">=</span> <span class="st_h">'John'</span><span class="sy0">;</span>
<span class="re0">$person</span><span class="sy0">-&gt;</span><span class="me1">name_last</span>      <span class="sy0">=</span> <span class="st_h">'Lim'</span><span class="sy0">;</span>
<span class="re0">$person</span><span class="sy0">-&gt;</span><span class="me1">favorite_color</span> <span class="sy0">=</span> <span class="st_h">'lavender'</span><span class="sy0">;</span>
<span class="re0">$person</span><span class="sy0">-&gt;</span><span class="me1">save</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// this save will perform an INSERT successfully</span>
&nbsp;
<span class="re0">$err_count</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"person-&gt;Find('id=1') [Lazy Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"person is loaded but its children will be loaded on-demand later on<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$person5</span> <span class="sy0">=</span> <span class="kw2">new</span> Person<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$people5</span> <span class="sy0">=</span> <span class="re0">$person5</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'id=1'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$people5</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'John'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found John<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$people5</span><span class="sy0">,</span> <span class="st0">"'favorite_pet' =&gt; 'tortoise'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[!!] Found relation when I shouldn't<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[OK] No relation yet<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">foreach</span><span class="br0">(</span><span class="re0">$people5</span> <span class="kw1">as</span> <span class="re0">$person</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">foreach</span><span class="br0">(</span><span class="re0">$person</span><span class="sy0">-&gt;</span><span class="me1">children</span> <span class="kw1">as</span> <span class="re0">$child</span><span class="br0">)</span>
    <span class="br0">{</span>
	<span class="kw1">if</span><span class="br0">(</span><span class="re0">$child</span><span class="sy0">-&gt;</span><span class="me1">name_first</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$people5</span><span class="sy0">,</span> <span class="st0">"'favorite_pet' =&gt; 'tortoise'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: child<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: child<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"person-&gt;Find('id=1' ... ADODB_WORK_AR) [Worker Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"person is loaded, and so are its children<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$person6</span> <span class="sy0">=</span> <span class="kw2">new</span> Person<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$people6</span> <span class="sy0">=</span> <span class="re0">$person6</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_WORK_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$people6</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'John'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found John<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$people6</span><span class="sy0">,</span> <span class="st0">"'favorite_pet' =&gt; 'tortoise'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: child<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: child<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"person-&gt;Find('id=1' ... ADODB_JOIN_AR) [Join Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"person and its children are loaded using a single query<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$person7</span> <span class="sy0">=</span> <span class="kw2">new</span> Person<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// When I specifically ask for a join, I have to specify which table id I am looking up</span>
<span class="co1">// otherwise the SQL parser will wonder which table's id that would be.</span>
<span class="re0">$people7</span> <span class="sy0">=</span> <span class="re0">$person7</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'people.id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_JOIN_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$people7</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'John'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found John<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$people7</span><span class="sy0">,</span> <span class="st0">"'favorite_pet' =&gt; 'tortoise'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: child<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: child<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"person-&gt;Load('people.id=1') [Join Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"Load() always uses the join method since it returns only one row<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$person2</span> <span class="sy0">=</span> <span class="kw2">new</span> Person<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// Under the hood, Load(), since it returns only one row, always perform a join</span>
<span class="co1">// Therefore we need to clarify which id we are talking about.</span>
<span class="re0">$person2</span><span class="sy0">-&gt;</span><span class="me1">Load</span><span class="br0">(</span><span class="st_h">'people.id=1'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$person2</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'John'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found John<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$person2</span><span class="sy0">,</span> <span class="st0">"'favorite_pet' =&gt; 'tortoise'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: child<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: child<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"child-&gt;Load('children.id=1') [Join Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"We are now loading from the 'children' table, not from 'people'<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ch</span> <span class="sy0">=</span> <span class="kw2">new</span> Child<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ch</span><span class="sy0">-&gt;</span><span class="me1">Load</span><span class="br0">(</span><span class="st_h">'children.id=1'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ch</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'Jill'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found Jill<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ch</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: person<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: person<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"child-&gt;Find('children.id=1' ... ADODB_WORK_AR) [Worker Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ch2</span> <span class="sy0">=</span> <span class="kw2">new</span> Child<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ach2</span> <span class="sy0">=</span> <span class="re0">$ch2</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_WORK_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach2</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'Jill'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found Jill<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach2</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: person<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: person<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"kid-&gt;Find('children.id=1' ... ADODB_WORK_AR) [Worker Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"Where we see that kid shares relationships with child because they are stored<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"in the common table's metadata structure.<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ch3</span> <span class="sy0">=</span> <span class="kw2">new</span> Kid<span class="br0">(</span><span class="st_h">'children'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ach3</span> <span class="sy0">=</span> <span class="re0">$ch3</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'children.id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_WORK_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach3</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'Jill'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found Jill<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach3</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: person<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: person<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"kid-&gt;Find('children.id=1' ... ADODB_LAZY_AR) [Lazy Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"Of course, lazy loading also retrieve medata information...<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ch32</span> <span class="sy0">=</span> <span class="kw2">new</span> Kid<span class="br0">(</span><span class="st_h">'children'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ach32</span> <span class="sy0">=</span> <span class="re0">$ch32</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'children.id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_LAZY_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach32</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'Jill'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found Jill<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach32</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[!!] Found relation when I shouldn't<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[OK] No relation yet<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">foreach</span><span class="br0">(</span><span class="re0">$ach32</span> <span class="kw1">as</span> <span class="re0">$akid</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span><span class="re0">$akid</span><span class="sy0">-&gt;</span><span class="me1">person</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach32</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: person<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: person<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"rugrat-&gt;Find('children.id=1' ... ADODB_WORK_AR) [Worker Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"In rugrat's constructor it is specified that<span class="es1">\n</span>it must forget any existing relation<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ch4</span> <span class="sy0">=</span> <span class="kw2">new</span> Rugrat<span class="br0">(</span><span class="st_h">'children'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ach4</span> <span class="sy0">=</span> <span class="re0">$ch4</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'children.id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_WORK_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach4</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'Jill'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found Jill<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach4</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[!!] Found relation when I shouldn't<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[OK] No relation found<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"kid-&gt;Find('children.id=1' ... ADODB_WORK_AR) [Worker Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"Note how only rugrat forgot its relations - kid is fine.<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ch5</span> <span class="sy0">=</span> <span class="kw2">new</span> Kid<span class="br0">(</span><span class="st_h">'children'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ach5</span> <span class="sy0">=</span> <span class="re0">$ch5</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'children.id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_WORK_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach5</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'Jill'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found Jill<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach5</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] I did not forget relation: person<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] I should not have forgotten relation: person<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"rugrat-&gt;Find('children.id=1' ... ADODB_WORK_AR) [Worker Method]<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ch6</span> <span class="sy0">=</span> <span class="kw2">new</span> Rugrat<span class="br0">(</span><span class="st_h">'children'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ch6s</span> <span class="sy0">=</span> <span class="re0">$ch6</span><span class="sy0">-&gt;</span><span class="me1">Find</span><span class="br0">(</span><span class="st_h">'children.id=1'</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <span class="kw4">false</span><span class="sy0">,</span> <a target="_blank" href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'loading'</span> <span class="sy0">=&gt;</span> ADODB_WORK_AR<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ach6</span> <span class="sy0">=</span> <span class="re0">$ch6s</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach6</span><span class="sy0">,</span> <span class="st0">"'name_first' =&gt; 'Jill'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found Jill<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Find failed<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach6</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[!!] Found relation when I shouldn't<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[OK] No relation yet<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span>Loading relations:<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="re0">$ach6</span><span class="sy0">-&gt;</span><span class="me1">belongsTo</span><span class="br0">(</span><span class="st_h">'person'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$ach6</span><span class="sy0">-&gt;</span><span class="me1">LoadRelations</span><span class="br0">(</span><span class="st_h">'person'</span><span class="sy0">,</span> <span class="st_h">'order by id'</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">2</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="br0">(</span>ar_assert<span class="br0">(</span><span class="re0">$ach6</span><span class="sy0">,</span> <span class="st0">"'favorite_color' =&gt; 'lavender'"</span><span class="br0">)</span><span class="br0">)</span> ? <span class="st0">"[OK] Found relation: person<span class="es1">\n</span>"</span> <span class="sy0">:</span> <span class="st0">"[!!] Missing relation: person<span class="es1">\n</span>"</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">echo</span> <span class="st0">"<span class="es1">\n</span><span class="es1">\n</span>---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"Test suite complete.<span class="es1">\n</span>"</span><span class="sy0">;</span>
<span class="kw1">echo</span> <span class="st0">"---------------------------------------------------------------------------<span class="es1">\n</span>"</span><span class="sy0">;</span></pre>

</div>

                    <!-- wikipage stop -->
                                    </div>

                <div class="docInfo"><bdi>v5/activerecord/extended_active_record_tutorial.txt</bdi> &middot; Last modified: 2016/01/13 02:15 by <bdi>mnewnham</bdi></div>

                
                <hr class="a11y">
            </div></main><!-- /content -->

            <!-- PAGE ACTIONS -->
            <nav id="dokuwiki__pagetools" aria-labelledby="dokuwiki__pagetools__heading">
                <h3 class="a11y" id="dokuwiki__pagetools__heading">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li class="source"><a href="extended_active_record_tutorial.html" title="Show pagesource [v]" rel="nofollow" accesskey="v"><span>Show pagesource</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5l3.74 3.74 1.42-1.41-2.33-2.33 2.33-2.33-1.42-1.41-3.74 3.74m11.16 0l-3.74-3.74-1.42 1.41 2.33 2.33-2.33 2.33 1.42 1.41 3.74-3.74z"></path></svg></a></li><li class="revs"><a href="extended_active_record_tutorial.html" title="Old revisions [o]" rel="nofollow" accesskey="o"><span>Old revisions</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M11 7v5.11l4.71 2.79.79-1.28-4-2.37V7m0-5C8.97 2 5.91 3.92 4.27 6.77L2 4.5V11h6.5L5.75 8.25C6.96 5.73 9.5 4 12.5 4a7.5 7.5 0 0 1 7.5 7.5 7.5 7.5 0 0 1-7.5 7.5c-3.27 0-6.03-2.09-7.06-5h-2.1c1.1 4.03 4.77 7 9.16 7 5.24 0 9.5-4.25 9.5-9.5A9.5 9.5 0 0 0 12.5 2z"></path></svg></a></li><li class="backlink"><a href="extended_active_record_tutorial.html" title="Backlinks" rel="nofollow"><span>Backlinks</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24.973.973 0 0 1 0-1.42z"></path></svg></a></li><li class="siteexport_addpage"><a href="extended_active_record_tutorial.html" title="Export Page to HTML/PDF" rel="nofollow"><span>Export Page to HTML/PDF</span><svg width="61px" height="51px" viewbox="0 0 61 51" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path d="M26.1891503,39.0065635 L26.0876578,38.9773206 L60.6523866,1.23972885 L60.4321374,2.11844376 L60.476442,2.07071678 L60.4265202,2.14085429 L49.5024876,45.7237994 L32.8255882,40.9187101 L26,50.508302 L26,39.2103249 L26.1891503,39.0065635 Z M60.9727675,0.862917243 L22.2676619,38.2155059 L-0.00245042233,30.2214566 L60.9727675,0.862917243 Z" id="Paper-Plane"></path></svg></a></li><li class="top"><a href="#dokuwiki__top" title="Back to top [t]" rel="nofollow" accesskey="t"><span>Back to top</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg></a></li>                    </ul>
                </div>
            </nav>
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<footer id="dokuwiki__footer"><div class="pad">
    <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" rel="license" class="urlextern" target="_blank">CC Attribution-Share Alike 4.0 International</a></bdi></div>
    <div class="buttons">
        <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" rel="license" target="_blank"><img src="../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 4.0 International"></a>        <a href="https://www.dokuwiki.org/donate" title="Donate" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-donate.gif" width="80" height="15" alt="Donate"></a>
        <a href="https://php.net" title="Powered by PHP" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-php.gif" width="80" height="15" alt="Powered by PHP"></a>
        <a href="../../check/referer" title="Valid HTML5" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-html5.png" width="80" height="15" alt="Valid HTML5"></a>
        <a href="../../css-validator/check/referer.profile.css3?profile=css3" title="Valid CSS" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-css.png" width="80" height="15" alt="Valid CSS"></a>
        <a href="https://dokuwiki.org/" title="Driven by DokuWiki" target="_blank"><img src="../../lib/tpl/dokuwiki/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki"></a>
    </div>

    </div></footer><!-- /footer -->
    </div></div><!-- /site -->

    <div class="no"><img src="../../lib/exe/taskrunner.1688205611.gif?1688205611" width="2" height="1" alt=""></div>
    <div id="screen__mode" class="no"></div></body>
</html>
